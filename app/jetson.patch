diff --git a/app/gear.py b/app/gear.py
index b602dfe..ab92667 100644
--- a/app/gear.py
+++ b/app/gear.py
@@ -27,6 +27,7 @@ def toOneList(l):
     return res
 
 def addToGraphRunner(x):
+    x = x['value']
     try:
         xlog('addToGraphRunner:', 'count=', x['count'])
 
@@ -54,7 +55,7 @@ def addToGraphRunner(x):
         animal = index[str(res.index(res1[0]) - 1)][1]
         xlog('addToGraphRunner:', 'animal=', animal)
 
-        return (animal, x['img'])
+        return animal, x['img']
     except:
         xlog('addToGraphRunner: error:', sys.exc_info()[0])
 
@@ -62,21 +63,24 @@ def addToStream(x):
     # save animal name into a new stream
     try:
         redisgears.executeCommand('xadd', 'cats', 'MAXLEN', '~', str(MAX_IMAGES), '*', 'image', 'data:image/jpeg;base64,' + base64.b64encode(x[1]).decode('utf8'))
+        xlog('addToStream: ', x[0])
     except:
         xlog('addToStream: error:', sys.exc_info()[0])
 
 def shouldTakeFrame(x):
+    v = x['value']
     try:
         global framesToDrop
         framesToDrop += 1
-        xlog('shouldTakeFrame', x['count'], (framesToDrop % 10 == 0))
+        xlog('shouldTakeFrame', v['count'], (framesToDrop % 10 == 0))
         return framesToDrop % 10 == 0
     except:
         xlog('shouldTakeFrame: error:', sys.exc_info()[0])
 
 def passAll(x):
+    v = x['value']
     try:
-        redisgears.executeCommand('xadd', 'all', 'MAXLEN', '~', str(MAX_IMAGES), '*', 'image', 'data:image/jpeg;base64,' + base64.b64encode(x['img']).decode('utf8'))
+        redisgears.executeCommand('xadd', 'all', 'MAXLEN', '~', str(MAX_IMAGES), '*', 'image', 'data:image/jpeg;base64,' + base64.b64encode(v['img']).decode('utf8'))
     except:
         xlog('passAll: error:', sys.exc_info()[0])
 
@@ -87,4 +91,5 @@ gearsCtx('StreamReader').\
     map(addToGraphRunner).\
     filter(lambda x: 'cat' in x[0]).\
     foreach(addToStream).\
-    register('camera:0')
+    register(prefix='camera:0')
+
diff --git a/app/init.py b/app/init.py
index 09f77bc..64a1303 100644
--- a/app/init.py
+++ b/app/init.py
@@ -27,7 +27,7 @@ if __name__ == '__main__':
     print('Loading model - ', end='')
     with open('models/mobilenet_v2_1.4_224_frozen.pb', 'rb') as f:
         model = f.read()
-        res = conn.execute_command('AI.MODELSET', 'mobilenet:model', 'TF', 'CPU', 'INPUTS', 'input', 'OUTPUTS', 'MobilenetV2/Predictions/Reshape_1', model)
+        res = conn.execute_command('AI.MODELSET', 'mobilenet:model', 'TF', 'CPU', 'INPUTS', 'input', 'OUTPUTS', 'MobilenetV2/Predictions/Reshape_1', 'BLOB', model)
         print(res)
 
     # Load the gear
